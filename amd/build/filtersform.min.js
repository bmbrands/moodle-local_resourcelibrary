define(["jquery","core/config"],function(a,b){var c={};return c.init=function(c){var d=a(c);d.on("submit","form",function(c){c.preventDefault();var d=a(this).serializeArray(),e={},f=!1;d.forEach(function(a){if("sesskey"===a.name)f=a.value===b.sesskey;else{var c=a.name.match(/(customfield_)?(\w+)\[(\w+)\]\[?(\w*)\]?/);if(c){var d=!1;c.length>=4&&(c.shift(),d=!0);var g=c[1],h=c[2];void 0===e[g]&&(e[g]={}),d&&void 0===e[g].shortname&&Object.defineProperty(e[g],"shortname",{enumerable:!0,value:g}),"_qf__force_multiselect_submission"!=a.value&&("undefined"==typeof e[g].value?Object.defineProperty(e[g],h,{enumerable:!0,value:a.value,writable:!0}):e[g].value+=","+a.value)}}});var g=Object.values(e).filter(function(a){return void 0!==a.value||null===a.value});f&&a(document).trigger("resourcelibrary-filters-change",[g])}),a("#id_resetbutton").on("click",function(){a(d).children("form.resourcelibrary-filters-form")[0].reset()})},c});