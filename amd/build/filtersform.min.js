define ("local_resourcelibrary/filtersform",["jquery","core/config"],function(a,b){var d={};function c(c,d){var e=a(c).serializeArray(),f={},g=!1;e.forEach(function(a){if("sesskey"===a.name){g=a.value===b.sesskey}else{var c=a.name.match(/(customfield_)?(\w+)\[(\w+)\]\[?(\w*)\]?/);if(c){var d=!1;if(4<=c.length){c.shift();d=!0}var e=c[1],h=c[2];if(f[e]===void 0){f[e]={}}if(d&&f[e].shortname===void 0){Object.defineProperty(f[e],"shortname",{enumerable:!0,value:e})}if("_qf__force_multiselect_submission"!=a.value){if("undefined"==typeof f[e].value){Object.defineProperty(f[e],h,{enumerable:!0,value:a.value,writable:!0})}else{f[e].value+=","+a.value}}}}});var h=Object.values(f).filter(function(a){return a.value!==void 0||null===a.value});if(g||d){return h}return!1}d.init=function(b){var d=a(b);d.on("submit","form",function(b){b.preventDefault();var e=c(d.children("form"),!1);if(e){a(document).trigger("resourcelibrary-filters-change",[e])}});a("#id_resetbutton").on("click",function(){a(d).children("form.resourcelibrary-filters-form")[0].reset()});var e=c(d.children("form"),!0);a(document).trigger("resourcelibrary-filters-inited",[e])};return d});
//# sourceMappingURL=filtersform.min.js.map
