/**
 * Manage the courses or course modules view for the Resource Library.
 *
 * Inspired from the Course overview block.
 * @copyright  2020 CALL Learning 2020 - Laurent David laurent@call-learning.fr
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_resourcelibrary/view_nav",["jquery","core/custom_interaction_events","local_resourcelibrary/repository","local_resourcelibrary/view","local_resourcelibrary/selectors"],(function($,CustomEvents,Repository,View,Selectors){var SELECTORS_MODIFIERS='[data-region="display-modifiers"]',SELECTORS_SORT_OPTION="[data-sort]",SELECTORS_DISPLAY_OPTION="[data-display-option]",updatePreferences=function(filter,value){var type=null;"display"===filter?type="local_resourcelibrary_user_view_preference":"sort"===filter&&(type="local_resourcelibrary_user_sort_preference"),type&&Repository.updateUserPreferences({preferences:[{type:type,value:value}]})};return{init:function(root){!function(root){var Selector=root.find(SELECTORS_MODIFIERS);CustomEvents.define(Selector,[CustomEvents.events.activate]),Selector.on(CustomEvents.events.activate,SELECTORS_SORT_OPTION,(function(e,data){var option=$(e.target);if(!option.hasClass("active")){var sortoption=option.attr("data-sort"),sortcolumn=option.attr("data-column");root.find(Selectors.entityView.region).attr("data-sort-column",sortcolumn),root.find(Selectors.entityView.region).attr("data-sort-order",sortoption),updatePreferences("sort",sortcolumn+","+sortoption),View.refresh(root),data.originalEvent.preventDefault()}})),CustomEvents.define(Selector,[CustomEvents.events.activate]),Selector.on(CustomEvents.events.activate,SELECTORS_DISPLAY_OPTION,(function(e,data){var option=$(e.target);if(!option.hasClass("active")){var displayoptions=option.attr("data-display-option");root.find(Selectors.entityView.region).attr("data-display",displayoptions),updatePreferences("display",displayoptions),View.reset(root),data.originalEvent.preventDefault()}}))}(root=$(root))}}}));

//# sourceMappingURL=view_nav.min.js.map